import{_ as l,s as c,m as d,o as a,c as n,a as u,b as g,p as h,d as p}from"./index-v-2fsrki.js";const m={data(){return{isLoggedIn:!1,userData1:null}},methods:{async signInWithGoogle(){try{const{user:e,session:t,error:s}=await c.auth.signInWithOAuth({provider:"google"});if(s)throw s;console.log("登录成功",e,t),this.isLoggedIn=!0,this.userData1=e}catch(e){console.error("登录失败",e.message)}},async signOut(){try{const{error:e}=await c.auth.signOut();if(e)throw e;this.$store.commit("resetState"),console.log("登出成功")}catch(e){console.error("登出失败",e.message)}}},mounted(){},computed:{...d(["userData","tableData","setlv"])}},f=e=>(h("data-v-faf1386c"),e=e(),p(),e),I=f(()=>g("h1",null,"欢迎来到首页",-1)),_={key:1};function k(e,t,s,v,i,o){return a(),n("div",null,[I,i.isLoggedIn?u("",!0):(a(),n("button",{key:0,onClick:t[0]||(t[0]=(...r)=>o.signInWithGoogle&&o.signInWithGoogle(...r))},"使用 Google 登录")),g("button",{onClick:t[1]||(t[1]=(...r)=>o.signOut&&o.signOut(...r))},"登出"),i.isLoggedIn?(a(),n("div",_)):u("",!0)])}const b=l(m,[["render",k],["__scopeId","data-v-faf1386c"]]);export{b as default};
